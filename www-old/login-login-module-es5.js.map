{"version":3,"sources":["src/app/login/login.page.html","src/app/login/login-routing.module.ts","src/app/login/login.module.ts","src/app/login/login.page.scss","src/app/login/login.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header translucent>\\n  <ion-toolbar>\\n    <ion-title>Login</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen>\\n    <ion-list lines=\\\"full\\\" class=\\\"ion-no-margin ion-no-padding\\\">\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\">Username <ion-text color=\\\"danger\\\">*</ion-text></ion-label>\\n        <ion-input [(ngModel)] = \\\"loginUsername\\\" required type=\\\"text\\\"></ion-input>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\">Password <ion-text color=\\\"danger\\\">*</ion-text></ion-label>\\n        <ion-input [(ngModel)] = \\\"loginPassword\\\" required type=\\\"password\\\"></ion-input>\\n      </ion-item>\\n    </ion-list>\\n    <div class=\\\"ion-padding\\\">\\n      <ion-button (click)=\\\"login()\\\" expand=\\\"block\\\" type=\\\"button\\\" class=\\\"ion-no-margin\\\">Login</ion-button>\\n    </div>\\n    <div class=\\\"ion-padding\\\">\\n      <ion-button (click)=\\\"register()\\\" expand=\\\"block\\\" type=\\\"button\\\" class=\\\"ion-no-margin\\\">Register</ion-button>\\n    </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { RestService } from '../rest.service';\nimport { NavController, ToastController } from '@ionic/angular';\nimport { Router, Route, ActivatedRoute } from '@angular/router';\nimport { ResourcesService } from '../shared/resources.service';\nimport { StorageService } from '../storage.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  private loginUsername: string\n  private loginPassword: string\n  constructor(\n    private rest: RestService,\n    private navController: NavController,\n    private router: Router,\n    private toastController: ToastController,\n    private resources: ResourcesService,\n    private storage: StorageService,\n    private route: ActivatedRoute,\n  ) {\n    this.loginUsername = \"asd@aol.com\"\n    this.loginPassword = \"test1235\"\n    // route.params.subscribe(val => {\n    //   console.log(val, \"txextxc\")\n    // });\n  }\n\n  async ngOnInit() {\n    console.log(\"LATEST VERSION  1.0\")\n    let st = \"\"\n    await this.storage.getToken().then((token) => {\n      st = token\n    })\n    if (st != \"\") {\n      this.rest.validateToken().then((val) => {\n        if (val.status == 200) {\n          this.router.navigate(['/tabs/fast'])\n        }\n      })\n    }\n  }\n\n\n  printpath(parent: String, config: Route[]) {\n    for (let i = 0; i < config.length; i++) {\n      const route = config[i];\n      if (this.resources.IS_DEBUG_MODE) console.log(parent + '/' + route.path);\n      if (route.children) {\n        const currentPath = route.path ? parent + '/' + route.path : parent;\n        this.printpath(currentPath, route.children);\n      }\n    }\n  }\n\n  register() {\n    this.router.navigate(['/register'])\n  }\n\n  login() {\n    if (!this.loginUsername) {\n      this.presentToast(\"Please provide a valid username\")\n      return\n    }\n    if (!this.loginPassword) {\n      this.presentToast(\"Please provide a password\")\n      return\n    }\n    if (!this.validateEmail(this.loginUsername)) {\n      this.presentToast(\"Please provide a valid email id as a username\")\n      return\n    }\n    // this.printpath('', this.router.config);\n    this.resources.presentLoading().then(() => {\n      this.rest.login(this.loginUsername, this.loginPassword).then((response) => {\n        response.json().then((r) => {\n          if (this.resources.IS_DEBUG_MODE) console.log(r)\n          console.log(r)\n          if (r && r.meta && r.meta.status) {\n            this.storage.setToken(r.data.sessionToken).then(o => {\n              console.log(o);\n              this.resources.getSettings(true)\n              this.resources.isLoggedIn.next(true)\n              this.navController.navigateForward('/tabs/fast').then(() => {\n                console.log(\"AFTER NAVIGATION\")\n                setTimeout(() => {\n                  this.resources.loading.dismiss()\n                }, 2000)\n              }) // navigates without slide animation\n              // this.router.navigate(['/tabs'], { skipLocationChange: false });\n            });\n            // this.storage.asyncLocalStorage.setItem('sessionToken', r.data.sessionToken).then((out)=> {\n            //   console.log(out);\n            //   setTimeout(() => {\n            //     this.router.navigate(['/tabs/fast'])\n            //   }, 300);\n            // })\n            // this.navController.navigateRoot('tabs/fast'); // navigates without slide animation\n            // this.router.navigate(['/tabs/fast']); // navigates with slide animation, by default\n          }\n          else {\n            this.presentToast(\"Invalid Login Credentials\")\n          }\n        }, (e) => {\n          if (this.resources.IS_DEBUG_MODE) console.log(e)\n          console.log(e)\n        })\n      }).catch((err) => {\n        if (this.resources.IS_DEBUG_MODE) console.log(err)\n        console.log(err)\n      })\n    })\n    // this.router.navigate(['tabs/fast'])\n  }\n\n  async presentToast(toastMessage) {\n    const toast = await this.toastController.create({\n      color: 'dark',\n      duration: 2000,\n      message: toastMessage,\n      showCloseButton: true\n    });\n\n    await toast.present();\n  }\n\n  validateEmail(email) {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"login-login-module-es5.js"}